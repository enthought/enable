<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>kiva.agg.agg &mdash; enable 5.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '5.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../../_static/img/favicon.ico">
    <link rel="index" title="Index" href="../../../genindex.html" >
    <link rel="search" title="Search" href="../../../search.html" >
    <link rel="top" title="enable 5.0.0 documentation" href="../../../index.html" >
    <link rel="up" title="kiva.agg" href="../agg.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../../index.html">enable 5.0.0 documentation</a></li>
	
          <li class="active"><a href="../../index.html" >Module code</a></li>
          <li class="active"><a href="../agg.html" accesskey="U">kiva.agg</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <h1>Source code for kiva.agg.agg</h1><div class="highlight"><pre>
<span></span><span class="c1"># This file was automatically generated by SWIG (http://www.swig.org).</span>
<span class="c1"># Version 3.0.11</span>
<span class="c1">#</span>
<span class="c1"># Do not make changes to this file unless you know what you are doing--modify</span>
<span class="c1"># the SWIG interface file instead.</span>

<span class="kn">from</span> <span class="nn">sys</span> <span class="k">import</span> <span class="n">version_info</span> <span class="k">as</span> <span class="n">_swig_python_version_info</span>
<span class="k">if</span> <span class="n">_swig_python_version_info</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">swig_import_helper</span><span class="p">():</span>
        <span class="kn">import</span> <span class="nn">importlib</span>
        <span class="n">pkg</span> <span class="o">=</span> <span class="vm">__name__</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mname</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">pkg</span><span class="p">,</span> <span class="s1">&#39;_agg&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">mname</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s1">&#39;_agg&#39;</span><span class="p">)</span>
    <span class="n">_agg</span> <span class="o">=</span> <span class="n">swig_import_helper</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">swig_import_helper</span>
<span class="k">elif</span> <span class="n">_swig_python_version_info</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">swig_import_helper</span><span class="p">():</span>
        <span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">dirname</span>
        <span class="kn">import</span> <span class="nn">imp</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fp</span><span class="p">,</span> <span class="n">pathname</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="n">imp</span><span class="o">.</span><span class="n">find_module</span><span class="p">(</span><span class="s1">&#39;_agg&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)])</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">_agg</span>
            <span class="k">return</span> <span class="n">_agg</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_mod</span> <span class="o">=</span> <span class="n">imp</span><span class="o">.</span><span class="n">load_module</span><span class="p">(</span><span class="s1">&#39;_agg&#39;</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">pathname</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">fp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_mod</span>
    <span class="n">_agg</span> <span class="o">=</span> <span class="n">swig_import_helper</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">swig_import_helper</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">_agg</span>
<span class="k">del</span> <span class="n">_swig_python_version_info</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">_swig_property</span> <span class="o">=</span> <span class="nb">property</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># Python &lt; 2.2 doesn&#39;t have &#39;property&#39;.</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">builtins</span> <span class="k">as</span> <span class="nn">__builtin__</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">__builtin__</span>

<span class="k">def</span> <span class="nf">_swig_setattr_nondynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_type</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">static</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;thisown&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">own</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;this&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;SwigPyObject&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">return</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">class_type</span><span class="o">.</span><span class="n">__swig_setmethods__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">static</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;You cannot add attributes to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_type</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_swig_setattr_nondynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_type</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_type</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;thisown&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">own</span><span class="p">()</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">class_type</span><span class="o">.</span><span class="n">__swig_getmethods__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; object has no attribute &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">class_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_swig_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">strthis</span> <span class="o">=</span> <span class="s2">&quot;proxy of &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
        <span class="n">strthis</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">; </span><span class="si">%s</span><span class="s2"> &gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">strthis</span><span class="p">,)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">_object</span> <span class="o">=</span> <span class="nb">object</span>
    <span class="n">_newclass</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">_object</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="n">_newclass</span> <span class="o">=</span> <span class="mi">0</span>


<span class="k">def</span> <span class="nf">iround</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">iround</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">iround</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">iround</span>

<span class="k">def</span> <span class="nf">uround</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">uround</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">uround</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">uround</span>

<span class="k">def</span> <span class="nf">ifloor</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">ifloor</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">ifloor</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">ifloor</span>

<span class="k">def</span> <span class="nf">ufloor</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">ufloor</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">ufloor</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">ufloor</span>

<span class="k">def</span> <span class="nf">iceil</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">iceil</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">iceil</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">iceil</span>

<span class="k">def</span> <span class="nf">uceil</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">uceil</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">uceil</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">uceil</span>
<span class="n">cover_shift</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cover_shift</span>
<span class="n">cover_size</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cover_size</span>
<span class="n">cover_mask</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cover_mask</span>
<span class="n">cover_none</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cover_none</span>
<span class="n">cover_full</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cover_full</span>
<span class="n">poly_subpixel_shift</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">poly_subpixel_shift</span>
<span class="n">poly_subpixel_scale</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">poly_subpixel_scale</span>
<span class="n">poly_subpixel_mask</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">poly_subpixel_mask</span>
<span class="n">fill_non_zero</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">fill_non_zero</span>
<span class="n">fill_even_odd</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">fill_even_odd</span>

<span class="k">def</span> <span class="nf">deg2rad</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">deg2rad</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">deg2rad</span>

<span class="k">def</span> <span class="nf">rad2deg</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">rad2deg</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">rad2deg</span>
<span class="n">path_cmd_stop</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_stop</span>
<span class="n">path_cmd_move_to</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_move_to</span>
<span class="n">path_cmd_line_to</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_line_to</span>
<span class="n">path_cmd_curve3</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_curve3</span>
<span class="n">path_cmd_curve4</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_curve4</span>
<span class="n">path_cmd_curveN</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_curveN</span>
<span class="n">path_cmd_catrom</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_catrom</span>
<span class="n">path_cmd_ubspline</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_ubspline</span>
<span class="n">path_cmd_end_poly</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_end_poly</span>
<span class="n">path_cmd_mask</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd_mask</span>
<span class="n">path_flags_none</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags_none</span>
<span class="n">path_flags_ccw</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags_ccw</span>
<span class="n">path_flags_cw</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags_cw</span>
<span class="n">path_flags_close</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags_close</span>
<span class="n">path_flags_mask</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags_mask</span>

<span class="k">def</span> <span class="nf">is_vertex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_vertex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_vertex</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_vertex</span>

<span class="k">def</span> <span class="nf">is_drawing</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_drawing</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_drawing</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_drawing</span>

<span class="k">def</span> <span class="nf">is_stop</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_stop</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_stop</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_stop</span>

<span class="k">def</span> <span class="nf">is_move_to</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_move_to</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_move_to</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_move_to</span>

<span class="k">def</span> <span class="nf">is_line_to</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_line_to</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_line_to</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_line_to</span>

<span class="k">def</span> <span class="nf">is_curve</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_curve</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve</span>

<span class="k">def</span> <span class="nf">is_curve3</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve3</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_curve3</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve3</span>

<span class="k">def</span> <span class="nf">is_curve4</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve4</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_curve4</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_curve4</span>

<span class="k">def</span> <span class="nf">is_end_poly</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_end_poly</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_end_poly</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_end_poly</span>

<span class="k">def</span> <span class="nf">is_close</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_close</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_close</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_close</span>

<span class="k">def</span> <span class="nf">is_next_poly</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_next_poly</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_next_poly</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_next_poly</span>

<span class="k">def</span> <span class="nf">is_cw</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_cw</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_cw</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_cw</span>

<span class="k">def</span> <span class="nf">is_ccw</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_ccw</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_ccw</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_ccw</span>

<span class="k">def</span> <span class="nf">is_oriented</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_oriented</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_oriented</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_oriented</span>

<span class="k">def</span> <span class="nf">is_closed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_closed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">is_closed</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">is_closed</span>

<span class="k">def</span> <span class="nf">get_close_flag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">get_close_flag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">get_close_flag</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">get_close_flag</span>

<span class="k">def</span> <span class="nf">clear_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">clear_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">clear_orientation</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">clear_orientation</span>

<span class="k">def</span> <span class="nf">get_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">get_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">get_orientation</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">get_orientation</span>

<span class="k">def</span> <span class="nf">set_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">set_orientation</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">set_orientation</span>
<span class="n">CAP_ROUND</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CAP_ROUND</span>
<span class="n">CAP_BUTT</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CAP_BUTT</span>
<span class="n">CAP_SQUARE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CAP_SQUARE</span>
<span class="n">JOIN_ROUND</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">JOIN_ROUND</span>
<span class="n">JOIN_BEVEL</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">JOIN_BEVEL</span>
<span class="n">JOIN_MITER</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">JOIN_MITER</span>
<span class="n">FILL</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">FILL</span>
<span class="n">EOF_FILL</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">EOF_FILL</span>
<span class="n">STROKE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">STROKE</span>
<span class="n">FILL_STROKE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">FILL_STROKE</span>
<span class="n">EOF_FILL_STROKE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">EOF_FILL_STROKE</span>
<span class="n">NORMAL</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">NORMAL</span>
<span class="n">BOLD</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">BOLD</span>
<span class="n">ITALIC</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">ITALIC</span>
<span class="n">TEXT_FILL</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_FILL</span>
<span class="n">TEXT_STROKE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_STROKE</span>
<span class="n">TEXT_FILL_STROKE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_FILL_STROKE</span>
<span class="n">TEXT_INVISIBLE</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_INVISIBLE</span>
<span class="n">TEXT_FILL_CLIP</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_FILL_CLIP</span>
<span class="n">TEXT_STROKE_CLIP</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_STROKE_CLIP</span>
<span class="n">TEXT_FILL_STROKE_CLIP</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_FILL_STROKE_CLIP</span>
<span class="n">TEXT_CLIP</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">TEXT_CLIP</span>
<span class="n">nearest</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">nearest</span>
<span class="n">bilinear</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">bilinear</span>
<span class="n">bicubic</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">bicubic</span>
<span class="n">spline16</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">spline16</span>
<span class="n">spline36</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">spline36</span>
<span class="n">sinc64</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">sinc64</span>
<span class="n">sinc144</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">sinc144</span>
<span class="n">sinc256</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">sinc256</span>
<span class="n">blackman64</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">blackman64</span>
<span class="n">blackman100</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">blackman100</span>
<span class="n">blackman256</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">blackman256</span>
<span class="n">pix_format_undefined</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_undefined</span>
<span class="n">pix_format_gray8</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_gray8</span>
<span class="n">pix_format_rgb555</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_rgb555</span>
<span class="n">pix_format_rgb565</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_rgb565</span>
<span class="n">pix_format_rgb24</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_rgb24</span>
<span class="n">pix_format_bgr24</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_bgr24</span>
<span class="n">pix_format_rgba32</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_rgba32</span>
<span class="n">pix_format_argb32</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_argb32</span>
<span class="n">pix_format_abgr32</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_abgr32</span>
<span class="n">pix_format_bgra32</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pix_format_bgra32</span>
<span class="n">end_of_pix_formats</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">end_of_pix_formats</span>
<span class="n">blend_normal</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">blend_normal</span>
<span class="n">blend_copy</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">blend_copy</span>
<span class="n">end_of_e</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">end_of_e</span>
<span class="n">grad_none</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">grad_none</span>
<span class="n">grad_linear</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">grad_linear</span>
<span class="n">grad_radial</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">grad_radial</span>
<span class="n">pad</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">pad</span>
<span class="n">reflect</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">reflect</span>
<span class="n">repeat</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">repeat</span>
<span class="n">user_space</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">user_space</span>
<span class="n">object_bounding_box</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">object_bounding_box</span>
<span class="n">marker_square</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_square</span>
<span class="n">marker_diamond</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_diamond</span>
<span class="n">marker_circle</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_circle</span>
<span class="n">marker_crossed_circle</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_crossed_circle</span>
<span class="n">marker_semiellipse_left</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_semiellipse_left</span>
<span class="n">marker_semiellipse_right</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_semiellipse_right</span>
<span class="n">marker_semiellipse_up</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_semiellipse_up</span>
<span class="n">marker_semiellipse_down</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_semiellipse_down</span>
<span class="n">marker_triangle_left</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_triangle_left</span>
<span class="n">marker_triangle_right</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_triangle_right</span>
<span class="n">marker_triangle_up</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_triangle_up</span>
<span class="n">marker_triangle_down</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_triangle_down</span>
<span class="n">marker_four_rays</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_four_rays</span>
<span class="n">marker_cross</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_cross</span>
<span class="n">marker_x</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_x</span>
<span class="n">marker_dash</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_dash</span>
<span class="n">marker_dot</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_dot</span>
<span class="n">marker_pixel</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">marker_pixel</span>
<span class="n">end_of_markers</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">end_of_markers</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">ndarray</span>

<div class="viewcode-block" id="is_array"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.is_array">[docs]</a><span class="k">def</span> <span class="nf">is_array</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">is</span> <span class="n">ndarray</span></div>

<div class="viewcode-block" id="is_correct_type"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.is_correct_type">[docs]</a><span class="k">def</span> <span class="nf">is_correct_type</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">numeric_type</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">is_array</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">numeric_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="numpy_check"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.numpy_check">[docs]</a><span class="k">def</span> <span class="nf">numpy_check</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">typecode</span><span class="p">,</span>
                <span class="n">exact_size</span> <span class="o">=</span> <span class="p">[],</span>
                <span class="n">must_be_contiguous</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">allow_coersion</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">is_correct_type</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">typecode</span><span class="p">):</span>
        <span class="n">ary</span> <span class="o">=</span> <span class="n">obj</span>
    <span class="k">elif</span> <span class="n">allow_coersion</span><span class="p">:</span>
        <span class="n">ary</span> <span class="o">=</span> <span class="n">asarray</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="n">typecode</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;input is not an array or the array has the wrong type&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">must_be_contiguous</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ary</span><span class="o">.</span><span class="n">flags</span><span class="p">[</span><span class="s2">&quot;CONTIGUOUS&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">allow_coersion</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">ary</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;input array must be contiguous&quot;</span><span class="p">)</span>

<span class="c1"># check number of dimensions</span>
    <span class="n">required_dims</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">exact_size</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">required_dims</span> <span class="ow">and</span> <span class="n">required_dims</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ary</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The input array does not have the correct shape&quot;</span><span class="p">)</span>

<span class="c1"># check exact shape of each dimension</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">desired</span><span class="p">,</span><span class="n">actual</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">exact_size</span><span class="p">,</span><span class="n">ary</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">desired</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">desired</span> <span class="o">!=</span> <span class="n">actual</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The </span><span class="si">%d</span><span class="s2"> dimensions of the array has the wrong shape&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cnt</span><span class="p">))</span>
        <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">ary</span></div>


<span class="k">def</span> <span class="nf">path_cmd</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">path_cmd</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd</span>

<span class="k">def</span> <span class="nf">path_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">path_flags</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_flags</span>


<span class="c1">#----------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># map strings values to the marker enumerated values and back with:</span>
<span class="c1">#   marker_string_map[string] = enum</span>
<span class="c1">#   marker_enum_map[enum] = string</span>
<span class="c1">#</span>
<span class="c1">#----------------------------------------------------------------------------</span>

<span class="n">kiva_marker_to_agg</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_square</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_diamond</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_circle</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_crossed_circle</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_x</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_triangle_up</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_triangle_down</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_cross</span>    <span class="c1"># &quot;plus&quot; sign; Agg calls this &quot;cross&quot;</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_dot</span>
<span class="n">kiva_marker_to_agg</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">marker_pixel</span>


<span class="c1">#----------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># Map strings values to the pix_format enumerated values and back with:</span>
<span class="c1">#   pix_format_string_map[string] = enum</span>
<span class="c1">#   pix_format_enum_map[enum] = string</span>
<span class="c1">#</span>
<span class="c1">#----------------------------------------------------------------------------</span>

<span class="n">pix_format_string_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;gray8&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_gray8</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;rgb555&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_rgb555</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;rgb565&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_rgb565</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;rgb24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_rgb24</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;bgr24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_bgr24</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;rgba32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_rgba32</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;argb32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_argb32</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;abgr32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_abgr32</span>
<span class="n">pix_format_string_map</span><span class="p">[</span><span class="s2">&quot;bgra32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pix_format_bgra32</span>

<span class="n">pix_format_enum_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">pix_format_string_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">pix_format_enum_map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>

<span class="c1">#----------------------------------------------------------------------------</span>
<span class="c1"># Map a pix format string value to the number of bytes per pixel</span>
<span class="c1">#----------------------------------------------------------------------------</span>

<span class="n">pix_format_bytes</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;gray8&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;rgb555&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;rgb565&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;rgb24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;bgr24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;rgba32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;argb32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;abgr32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">pix_format_bytes</span><span class="p">[</span><span class="s2">&quot;bgra32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">pix_format_bits</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;gray8&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;rgb555&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;rgb565&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;rgb24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">24</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;bgr24&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">24</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;rgba32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;argb32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;abgr32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">pix_format_bits</span><span class="p">[</span><span class="s2">&quot;bgra32&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>

<span class="c1">#----------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># Map strings values to the interpolation enumerated values and back with:</span>
<span class="c1">#   interp_string_map[string] = enum</span>
<span class="c1">#   interp_enum_map[enum] = string</span>
<span class="c1">#</span>
<span class="c1">#----------------------------------------------------------------------------</span>

<span class="n">interp_string_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;nearest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nearest</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;bilinear&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bilinear</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;bicubic&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bicubic</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;spline16&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spline16</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;spline36&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spline36</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;sinc64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sinc64</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;sinc144&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sinc144</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;sinc256&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sinc256</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;blackman64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">blackman64</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;blackman100&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">blackman100</span>
<span class="n">interp_string_map</span><span class="p">[</span><span class="s2">&quot;blackman256&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">blackman256</span>

<span class="n">interp_enum_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">interp_string_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">interp_enum_map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>


<span class="k">class</span> <span class="nc">_Rgba</span><span class="p">(</span><span class="n">_object</span><span class="p">):</span>
    <span class="n">__swig_setmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__setattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_Rgba</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">__swig_getmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__getattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_Rgba</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_r_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_r_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_r_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_r_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;g&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_g_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;g&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_g_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_g_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_g_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_b_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_b_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_b_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_b_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_a_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_a_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_a_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_a_set</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">this</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">new__Rgba</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">this</span>

    <span class="k">def</span> <span class="nf">gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">premultiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_premultiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba___repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba___eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_asarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">__swig_destroy__</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">delete__Rgba</span>
    <span class="fm">__del__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">_Rgba_swigregister</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_Rgba_swigregister</span>
<span class="n">_Rgba_swigregister</span><span class="p">(</span><span class="n">_Rgba</span><span class="p">)</span>
<span class="n">cvar</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cvar</span>
<span class="n">pi</span> <span class="o">=</span> <span class="n">cvar</span><span class="o">.</span><span class="n">pi</span>


<span class="k">def</span> <span class="nf">is_sequence</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>

<span class="c1"># Use sub-class to allow sequence as input</span>
<div class="viewcode-block" id="Rgba"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.Rgba">[docs]</a><span class="k">class</span> <span class="nc">Rgba</span><span class="p">(</span><span class="n">_Rgba</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;array argument must be 1x3 or 1x4&quot;</span><span class="p">)</span>
        <span class="n">_Rgba</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="AggFontType"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.AggFontType">[docs]</a><span class="k">class</span> <span class="nc">AggFontType</span><span class="p">(</span><span class="n">_object</span><span class="p">):</span>
    <span class="n">__swig_setmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__setattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AggFontType</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">__swig_getmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__getattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AggFontType</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_size_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_size_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_size_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_size_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_name_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_name_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_name_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_name_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;family&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_family_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;family&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_family_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">family</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_family_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_family_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_style_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_style_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_style_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_style_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;encoding&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_encoding_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;encoding&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_encoding_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_encoding_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_encoding_set</span><span class="p">)</span>
    <span class="n">__swig_setmethods__</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_filename_set</span>
    <span class="n">__swig_getmethods__</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_filename_get</span>
    <span class="k">if</span> <span class="n">_newclass</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">_swig_property</span><span class="p">(</span><span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_filename_get</span><span class="p">,</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_filename_set</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">this</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">new_AggFontType</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">this</span>

<div class="viewcode-block" id="AggFontType.change_filename"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.AggFontType.change_filename">[docs]</a>    <span class="k">def</span> <span class="nf">change_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_change_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="AggFontType.is_loaded"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.AggFontType.is_loaded">[docs]</a>    <span class="k">def</span> <span class="nf">is_loaded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_is_loaded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType___repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType___eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">__swig_destroy__</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">delete_AggFontType</span>
    <span class="fm">__del__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="kc">None</span></div>
<span class="n">AggFontType_swigregister</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">AggFontType_swigregister</span>
<span class="n">AggFontType_swigregister</span><span class="p">(</span><span class="n">AggFontType</span><span class="p">)</span>


<div class="viewcode-block" id="unicode_safe_init"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.unicode_safe_init">[docs]</a><span class="k">def</span> <span class="nf">unicode_safe_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_name</span><span class="o">=</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="n">_size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">_family</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">_style</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">_encoding</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="c1">### HACK:  C++ stuff expects a string (not unicode) for the face_name, so fix</span>
<span class="c1">###        if needed.</span>
<span class="c1">### Only for python &lt; 3</span>
    <span class="k">if</span> <span class="s1">&#39;&#39;</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_name</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
            <span class="n">_name</span> <span class="o">=</span> <span class="n">_name</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;latin1&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_name</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">_name</span> <span class="o">=</span> <span class="n">_name</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">new_AggFontType</span><span class="p">(</span><span class="n">_name</span><span class="p">,</span> <span class="n">_size</span><span class="p">,</span> <span class="n">_family</span><span class="p">,</span> <span class="n">_style</span><span class="p">,</span>
                               <span class="n">_encoding</span><span class="p">,</span> <span class="n">validate</span><span class="p">)</span>
    <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AggFontType</span><span class="p">,</span> <span class="s2">&quot;this&quot;</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AggFontType</span><span class="p">,</span> <span class="s2">&quot;thisown&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<span class="c1"># This is a crappy way of overriding the constructor</span>
<span class="n">AggFontType</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="n">unicode_safe_init</span>


<span class="k">def</span> <span class="nf">rotation_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">rotation_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">rotation_matrix</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">rotation_matrix</span>

<span class="k">def</span> <span class="nf">scaling_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">scaling_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">scaling_matrix</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">scaling_matrix</span>

<span class="k">def</span> <span class="nf">translation_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">translation_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">translation_matrix</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">translation_matrix</span>

<span class="k">def</span> <span class="nf">skewing_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">skewing_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">skewing_matrix</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">skewing_matrix</span>
<span class="k">class</span> <span class="nc">_AffineMatrix</span><span class="p">(</span><span class="n">_object</span><span class="p">):</span>
    <span class="n">__swig_setmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__setattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_AffineMatrix</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">__swig_getmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__getattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_AffineMatrix</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">this</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">new__AffineMatrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">this</span>

    <span class="k">def</span> <span class="nf">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix___invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flip_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_flip_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flip_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_flip_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">determinant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_determinant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_asarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_load_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix___repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix___getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix___eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">__swig_destroy__</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">delete__AffineMatrix</span>
    <span class="fm">__del__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">_AffineMatrix_swigregister</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">_AffineMatrix_swigregister</span>
<span class="n">_AffineMatrix_swigregister</span><span class="p">(</span><span class="n">_AffineMatrix</span><span class="p">)</span>


<div class="viewcode-block" id="is_sequence"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.is_sequence">[docs]</a><span class="k">def</span> <span class="nf">is_sequence</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span></div>

<span class="c1"># AffineMatrix sub-class to get around problems with adding</span>
<span class="c1"># a AffineMatrix constructor that accepts a Numeric array</span>
<span class="c1"># as input.</span>
<div class="viewcode-block" id="AffineMatrix"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.AffineMatrix">[docs]</a><span class="k">class</span> <span class="nc">AffineMatrix</span><span class="p">(</span><span class="n">_AffineMatrix</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;array argument must be 1x6&quot;</span><span class="p">)</span>
        <span class="n">_AffineMatrix</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__imul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; inplace multiply</span>

<span class="sd">            We don&#39;t use the C++ version of this because it ends up</span>
<span class="sd">            deleting the object out from under itself.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="CompiledPath"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath">[docs]</a><span class="k">class</span> <span class="nc">CompiledPath</span><span class="p">(</span><span class="n">_object</span><span class="p">):</span>
    <span class="n">__swig_setmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__setattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">CompiledPath</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">__swig_getmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__getattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">CompiledPath</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="fm">__repr__</span> <span class="o">=</span> <span class="n">_swig_repr</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">this</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">new_CompiledPath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">this</span>

<div class="viewcode-block" id="CompiledPath.remove_all"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.remove_all">[docs]</a>    <span class="k">def</span> <span class="nf">remove_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_remove_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.begin_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.begin_path">[docs]</a>    <span class="k">def</span> <span class="nf">begin_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_begin_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.close_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.close_path">[docs]</a>    <span class="k">def</span> <span class="nf">close_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_close_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.move_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.move_to">[docs]</a>    <span class="k">def</span> <span class="nf">move_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_move_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.line_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.line_to">[docs]</a>    <span class="k">def</span> <span class="nf">line_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_line_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.quad_curve_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.quad_curve_to">[docs]</a>    <span class="k">def</span> <span class="nf">quad_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_quad_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.curve_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.curve_to">[docs]</a>    <span class="k">def</span> <span class="nf">curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.arc"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.arc">[docs]</a>    <span class="k">def</span> <span class="nf">arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.arc_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.arc_to">[docs]</a>    <span class="k">def</span> <span class="nf">arc_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_arc_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.add_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.add_path">[docs]</a>    <span class="k">def</span> <span class="nf">add_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_add_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.lines"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.lines">[docs]</a>    <span class="k">def</span> <span class="nf">lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.line_set"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.line_set">[docs]</a>    <span class="k">def</span> <span class="nf">line_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_line_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.rect"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.rect">[docs]</a>    <span class="k">def</span> <span class="nf">rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.rects"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.rects">[docs]</a>    <span class="k">def</span> <span class="nf">rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.translate_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.translate_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">translate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_translate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.rotate_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.rotate_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">rotate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_rotate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.scale_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.scale_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">scale_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_scale_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.concat_ctm_agg"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.concat_ctm_agg">[docs]</a>    <span class="k">def</span> <span class="nf">concat_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_concat_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.set_ctm_agg"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.set_ctm_agg">[docs]</a>    <span class="k">def</span> <span class="nf">set_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_set_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.kivaaffine_to_aggaffine"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.kivaaffine_to_aggaffine">[docs]</a>    <span class="k">def</span> <span class="nf">kivaaffine_to_aggaffine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctm</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">AffineMatrix</span><span class="p">(</span><span class="n">ctm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ctm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">ctm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ctm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                            <span class="n">ctm</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ctm</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span></div>
<div class="viewcode-block" id="CompiledPath.concat_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.concat_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">concat_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctm</span><span class="p">):</span>
    <span class="c1"># This is really tortured and may cause performance problems.</span>
    <span class="c1"># Unfortunately I don&#39;t see a much better way right now.</span>
        <span class="k">if</span> <span class="s1">&#39;__class__&#39;</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">ctm</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ctm</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;AffineMatrix&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">concat_ctm_agg</span><span class="p">(</span><span class="n">ctm</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">concat_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kivaaffine_to_aggaffine</span><span class="p">(</span><span class="n">ctm</span><span class="p">))</span></div>
<div class="viewcode-block" id="CompiledPath.set_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.set_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">set_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctm</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;__class__&#39;</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">ctm</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ctm</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;AffineMatrix&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_ctm_agg</span><span class="p">(</span><span class="n">ctm</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_ctm_agg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kivaaffine_to_aggaffine</span><span class="p">(</span><span class="n">ctm</span><span class="p">))</span></div>


<div class="viewcode-block" id="CompiledPath.get_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.get_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">get_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_get_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.save_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.save_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">save_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_save_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.restore_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.restore_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">restore_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_restore_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="CompiledPath.total_vertices"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.total_vertices">[docs]</a>    <span class="k">def</span> <span class="nf">total_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_total_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_rewind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath__rewind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

<div class="viewcode-block" id="CompiledPath.vertex"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.CompiledPath.vertex">[docs]</a>    <span class="k">def</span> <span class="nf">vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath__vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">__swig_destroy__</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">delete_CompiledPath</span>
    <span class="fm">__del__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="kc">None</span></div>
<span class="n">CompiledPath_swigregister</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">CompiledPath_swigregister</span>
<span class="n">CompiledPath_swigregister</span><span class="p">(</span><span class="n">CompiledPath</span><span class="p">)</span>


<span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">array</span><span class="p">,</span> <span class="n">float64</span>
<span class="k">def</span> <span class="nf">_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; This is only used for testing.  It allows us to retrieve</span>
<span class="sd">            all the vertices in the path at once.  The vertices are</span>
<span class="sd">            returned as an Nx4 array of the following format.</span>

<span class="sd">	        x0, y0, cmd0, flag0</span>
<span class="sd">                x1, y1, cmd0, flag1</span>
<span class="sd">                ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rewind</span><span class="p">()</span>
        <span class="n">cmd_flag</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">cmd_flag</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">pt</span><span class="p">,</span> <span class="n">cmd_flag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertex</span><span class="p">()</span>
            <span class="n">cmd</span><span class="p">,</span><span class="n">flag</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">path_cmd</span><span class="p">(</span><span class="n">cmd_flag</span><span class="p">),</span><span class="n">_agg</span><span class="o">.</span><span class="n">path_flags</span><span class="p">(</span><span class="n">cmd_flag</span><span class="p">)</span>
            <span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">flag</span><span class="p">))</span>        
        <span class="k">return</span> <span class="n">array</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>

<span class="n">CompiledPath</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">_vertices</span>    


<div class="viewcode-block" id="get_kiva_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.get_kiva_ctm">[docs]</a><span class="k">def</span> <span class="nf">get_kiva_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">aff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ctm</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">array</span><span class="p">([[</span><span class="n">aff</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">aff</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">],</span>
                      <span class="p">[</span><span class="n">aff</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">aff</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">],</span>
                      <span class="p">[</span><span class="n">aff</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">aff</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">float64</span><span class="p">)</span></div>

<span class="n">CompiledPath</span><span class="o">.</span><span class="n">get_kiva_ctm</span> <span class="o">=</span> <span class="n">get_kiva_ctm</span>



<span class="k">def</span> <span class="nf">graphics_context_from_array</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">graphics_context_from_array</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">graphics_context_from_array</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">graphics_context_from_array</span>

<span class="k">def</span> <span class="nf">destroy_graphics_context</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">destroy_graphics_context</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">destroy_graphics_context</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">destroy_graphics_context</span>

<span class="k">def</span> <span class="nf">graphics_context_multiply_alpha</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">graphics_context_multiply_alpha</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">graphics_context_multiply_alpha</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">graphics_context_multiply_alpha</span>

        <span class="c1"># used in GraphicsContextArray constructors</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">array</span><span class="p">,</span> <span class="n">asarray</span><span class="p">,</span> <span class="n">zeros</span><span class="p">,</span> <span class="n">uint8</span><span class="p">,</span> <span class="n">frombuffer</span><span class="p">,</span> <span class="n">shape</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">resize</span><span class="p">,</span> <span class="n">dtype</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Define paths for the two markers that Agg renders incorrectly</span>
<span class="kn">from</span> <span class="nn">kiva.constants</span> <span class="k">import</span> <span class="n">DIAMOND_MARKER</span><span class="p">,</span> <span class="n">CIRCLE_MARKER</span><span class="p">,</span> <span class="n">FILL_STROKE</span>

<div class="viewcode-block" id="circle_marker_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.circle_marker_path">[docs]</a><span class="k">def</span> <span class="nf">circle_marker_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
    <span class="n">circle_points</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span>   <span class="p">,</span>  <span class="mf">0.</span>   <span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.966</span><span class="p">,</span>  <span class="mf">0.259</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.866</span><span class="p">,</span>  <span class="mf">0.5</span>  <span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.707</span><span class="p">,</span>  <span class="mf">0.707</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.5</span>  <span class="p">,</span>  <span class="mf">0.866</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.259</span><span class="p">,</span>  <span class="mf">0.966</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.</span>   <span class="p">,</span>  <span class="mf">1.</span>   <span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.259</span><span class="p">,</span>  <span class="mf">0.966</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span>  <span class="p">,</span>  <span class="mf">0.866</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.707</span><span class="p">,</span>  <span class="mf">0.707</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.866</span><span class="p">,</span>  <span class="mf">0.5</span>  <span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.966</span><span class="p">,</span>  <span class="mf">0.259</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">1.</span>   <span class="p">,</span>  <span class="mf">0.</span>   <span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.966</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.259</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span>  <span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.707</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.707</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span>  <span class="p">,</span> <span class="o">-</span><span class="mf">0.866</span><span class="p">],</span>
                           <span class="p">[</span><span class="o">-</span><span class="mf">0.259</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.966</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.</span>   <span class="p">,</span> <span class="o">-</span><span class="mf">1.</span>   <span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.259</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.966</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.5</span>  <span class="p">,</span> <span class="o">-</span><span class="mf">0.866</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.707</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.707</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span>  <span class="p">],</span>
                           <span class="p">[</span> <span class="mf">0.966</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.259</span><span class="p">],</span>
                           <span class="p">[</span> <span class="mf">1.</span>   <span class="p">,</span> <span class="mf">0.</span>    <span class="p">]])</span>
    <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">pts</span> <span class="o">=</span> <span class="n">circle_points</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
    <span class="k">elif</span> <span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">pts</span> <span class="o">=</span> <span class="n">circle_points</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pts</span> <span class="o">=</span> <span class="n">circle_points</span> <span class="o">*</span> <span class="n">size</span>
    <span class="n">path</span><span class="o">.</span><span class="n">lines</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span></div>

<span class="n">substitute_markers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">CIRCLE_MARKER</span><span class="p">:</span> <span class="p">(</span><span class="n">circle_marker_path</span><span class="p">,</span> <span class="n">FILL_STROKE</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># global freetype engine for text rendering.</span>
<span class="c1">#from enthought import freetype</span>
<span class="c1">#ft_engine = freetype.FreeType(dpi=120.0)</span>

<span class="kn">from</span> <span class="nn">kiva</span> <span class="k">import</span> <span class="n">fonttools</span>

<div class="viewcode-block" id="handle_unicode"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.handle_unicode">[docs]</a><span class="k">def</span> <span class="nf">handle_unicode</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="s2">&quot;Returns a utf8 encoded 8-bit string from &#39;text&#39;&quot;</span>
<span class="c1"># For now we just deal with unicode by converting to utf8</span>
<span class="c1"># Later we can add full-blown support with wchar_t/Py_UNICODE</span>
<span class="c1"># typemaps etc.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;&#39;</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">UnicodeError</span><span class="p">(</span><span class="s2">&quot;Error encoding text to utf8.&quot;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">cleanup_font_threading_primitives</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cleanup_font_threading_primitives</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">cleanup_font_threading_primitives</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">cleanup_font_threading_primitives</span>

        <span class="c1"># Register module function to clean up mutexes and criticalsection</span>
        <span class="c1"># objects when the process quits.</span>

<span class="kn">import</span> <span class="nn">atexit</span>
<span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup_font_threading_primitives</span><span class="p">)</span>


<div class="viewcode-block" id="GraphicsContextArray"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray">[docs]</a><span class="k">class</span> <span class="nc">GraphicsContextArray</span><span class="p">(</span><span class="n">_object</span><span class="p">):</span>
    <span class="n">__swig_setmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__setattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GraphicsContextArray</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">__swig_getmethods__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="fm">__getattr__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">_swig_getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GraphicsContextArray</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;No constructor defined&quot;</span><span class="p">)</span>
    <span class="fm">__repr__</span> <span class="o">=</span> <span class="n">_swig_repr</span>

                <span class="c1"># We define our own constructor AND destructor.</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ary_or_size</span><span class="p">,</span> <span class="n">pix_format</span><span class="o">=</span><span class="s2">&quot;bgra32&quot;</span><span class="p">,</span>
                 <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">base_pixel_scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                 <span class="n">bottom_up</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; When specifying size, it must be a two element tuple.</span>
<span class="sd">            Array input is always treated as an image.</span>

<span class="sd">            This class handles the polymorphism of the underlying</span>
<span class="sd">            template classes for individual pixel formats.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">pix_format_id</span> <span class="o">=</span> <span class="n">pix_format_string_map</span><span class="p">[</span><span class="n">pix_format</span><span class="p">]</span>
        <span class="n">img_depth</span> <span class="o">=</span> <span class="n">pix_format_bytes</span><span class="p">[</span><span class="n">pix_format</span><span class="p">]</span>
        <span class="n">interpolation_id</span> <span class="o">=</span> <span class="n">interp_string_map</span><span class="p">[</span><span class="n">interpolation</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">ary_or_size</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">tuple</span><span class="p">:</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">ary_or_size</span>
    <span class="c1"># Ensure that we pass on integers.</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
            <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">img_depth</span><span class="p">),</span> <span class="n">uint8</span><span class="p">)</span>
            <span class="n">ary</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">ary_or_size</span>
            <span class="n">sh</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">img_depth</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;2D arrays must use a format that is one byte per pixel&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">img_depth</span> <span class="o">!=</span> <span class="n">sh</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Image depth and format are incompatible&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;only 2 or 3 dimensional arrays are supported as images&quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; but got sh=</span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sh</span><span class="p">,)</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only UnsignedInt8 arrays are supported but got &quot;</span>
            <span class="k">assert</span> <span class="n">ary</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;uint8&#39;</span><span class="p">),</span> <span class="n">msg</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">ary</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">cvar</span><span class="o">.</span><span class="n">ALWAYS_32BIT_WORKAROUND_FLAG</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ary</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">pix_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="s1">&#39;bgr24&#39;</span><span class="p">):</span>
                    <span class="kn">import</span> <span class="nn">warnings</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;need to workaround AGG bug since &#39;</span>
                            <span class="s1">&#39;ALWAYS_32BIT_WORKAROUND is on, but got unhandled &#39;</span>
                            <span class="s1">&#39;format </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">pix_format</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">pix_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">a32&#39;</span> <span class="o">%</span> <span class="n">pix_format</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">ary</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">ary</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">ary</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">)])</span>
                    <span class="n">ary</span><span class="p">[:,:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
            <span class="n">pix_format_id</span> <span class="o">=</span> <span class="n">pix_format_string_map</span><span class="p">[</span><span class="n">pix_format</span><span class="p">]</span>
            <span class="n">img_depth</span> <span class="o">=</span> <span class="n">pix_format_bytes</span><span class="p">[</span><span class="n">pix_format</span><span class="p">]</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="n">graphics_context_from_array</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span><span class="n">pix_format_id</span><span class="p">,</span><span class="n">interpolation_id</span><span class="p">,</span>
                                          <span class="n">bottom_up</span><span class="p">)</span>

    <span class="c1"># Apply base scale for a HiDPI context</span>
        <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_scale_ctm</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">base_pixel_scale</span><span class="p">,</span> <span class="n">base_pixel_scale</span><span class="p">)</span>

        <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GraphicsContextArray</span><span class="p">,</span> <span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="c1"># swig 1.3.28 does not have real thisown, thisown is mapped</span>
    <span class="c1"># to this.own() but with previous &#39;self.this=obj&#39; an</span>
    <span class="c1"># attribute &#39;own&#39; error is raised. Does this workaround</span>
    <span class="c1"># work with pre-1.3.28 swig?</span>
        <span class="n">_swig_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GraphicsContextArray</span><span class="p">,</span> <span class="s1">&#39;thisown2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bmp_array</span> <span class="o">=</span> <span class="n">ary</span>

    <span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destroy</span><span class="o">=</span><span class="n">_agg</span><span class="o">.</span><span class="n">destroy_graphics_context</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisown2</span><span class="p">:</span> <span class="n">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="k">pass</span>



<div class="viewcode-block" id="GraphicsContextArray.bottom_up"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.bottom_up">[docs]</a>    <span class="k">def</span> <span class="nf">bottom_up</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_bottom_up</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.width"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.width">[docs]</a>    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.height"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.height">[docs]</a>    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.stride"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.stride">[docs]</a>    <span class="k">def</span> <span class="nf">stride</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_stride</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.format"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.format">[docs]</a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">enum</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pix_format_enum_map</span><span class="p">[</span><span class="n">enum</span><span class="p">]</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_image_interpolation"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_image_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">enum</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_image_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">interp_enum_map</span><span class="p">[</span><span class="n">enum</span><span class="p">]</span></div>



<div class="viewcode-block" id="GraphicsContextArray.set_image_interpolation"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_image_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">interp</span><span class="p">):</span>
        <span class="n">enum</span> <span class="o">=</span> <span class="n">interp_string_map</span><span class="p">[</span><span class="n">interp</span><span class="p">]</span>
        <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_image_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">enum</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.set_stroke_color"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_stroke_color">[docs]</a>    <span class="k">def</span> <span class="nf">set_stroke_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_array</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">color</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">ary</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">Rgba</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">is_array</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">color</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">ary</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">Rgba</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
        <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_stroke_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_stroke_color"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_stroke_color">[docs]</a>    <span class="k">def</span> <span class="nf">get_stroke_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_stroke_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_line_width"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_line_width">[docs]</a>    <span class="k">def</span> <span class="nf">set_line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_line_join"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_line_join">[docs]</a>    <span class="k">def</span> <span class="nf">set_line_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_line_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_line_cap"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_line_cap">[docs]</a>    <span class="k">def</span> <span class="nf">set_line_cap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_line_cap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_line_dash"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_line_dash">[docs]</a>    <span class="k">def</span> <span class="nf">set_line_dash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_line_dash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_blend_mode"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_blend_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_blend_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_blend_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_blend_mode"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_blend_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_blend_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_blend_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_fill_color"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_fill_color">[docs]</a>    <span class="k">def</span> <span class="nf">set_fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_array</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">color</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">ary</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">Rgba</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">is_array</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">ary</span> <span class="o">=</span> <span class="n">color</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">ary</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">Rgba</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
        <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_fill_color"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_fill_color">[docs]</a>    <span class="k">def</span> <span class="nf">get_fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_alpha"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_alpha">[docs]</a>    <span class="k">def</span> <span class="nf">set_alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_alpha"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_alpha">[docs]</a>    <span class="k">def</span> <span class="nf">get_alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_antialias"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_antialias">[docs]</a>    <span class="k">def</span> <span class="nf">set_antialias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_antialias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_antialias"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_antialias">[docs]</a>    <span class="k">def</span> <span class="nf">get_antialias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_antialias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_miter_limit"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_miter_limit">[docs]</a>    <span class="k">def</span> <span class="nf">set_miter_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_miter_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_flatness"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_flatness">[docs]</a>    <span class="k">def</span> <span class="nf">set_flatness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_flatness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_text_position"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_text_position">[docs]</a>    <span class="k">def</span> <span class="nf">set_text_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_text_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_text_position"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_text_position">[docs]</a>    <span class="k">def</span> <span class="nf">get_text_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_text_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.show_text_simple"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.show_text_simple">[docs]</a>    <span class="k">def</span> <span class="nf">show_text_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_show_text_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.show_text_at_point"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.show_text_at_point">[docs]</a>    <span class="k">def</span> <span class="nf">show_text_at_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">handle_unicode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_show_text_at_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.show_text"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.show_text">[docs]</a>    <span class="k">def</span> <span class="nf">show_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">point</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Displays text at point, or at the current text pen position</span>
<span class="sd">           if point is None.  Returns true if text displayed properly,</span>
<span class="sd">           false if there was a font issue or a glyph could not be</span>
<span class="sd">           rendered.  Will handle multi-line text separated by backslash-ns&quot;&quot;&quot;</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">handle_unicode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="n">linelist</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">point</span><span class="p">:</span>
            <span class="n">savepoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_text_position</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_text_position</span><span class="p">(</span><span class="o">*</span><span class="n">point</span><span class="p">)</span>
        <span class="n">orig_tm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_text_matrix</span><span class="p">()</span>
        <span class="n">next_tm</span> <span class="o">=</span> <span class="n">orig_tm</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">linelist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_text_matrix</span><span class="p">(</span><span class="n">next_tm</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">success</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_text_simple</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_text_extent</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">txt_xlat</span> <span class="o">=</span> <span class="n">translation_matrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,(</span><span class="n">extent</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">extent</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">*</span><span class="mf">1.4</span><span class="p">)</span>
            <span class="n">txt_xlat</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">next_tm</span><span class="p">)</span>
            <span class="n">next_tm</span> <span class="o">=</span> <span class="n">txt_xlat</span>

        <span class="k">if</span> <span class="n">point</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_text_position</span><span class="p">(</span><span class="o">*</span><span class="n">savepoint</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">success</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Font not loaded/initialized.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_text_extent"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_text_extent">[docs]</a>    <span class="k">def</span> <span class="nf">get_text_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_font_initialized</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Font not loaded/initialized.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">handle_unicode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_text_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.is_font_initialized"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.is_font_initialized">[docs]</a>    <span class="k">def</span> <span class="nf">is_font_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_is_font_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_text_matrix"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_text_matrix">[docs]</a>    <span class="k">def</span> <span class="nf">set_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set the text matrix.</span>

<span class="sd">        `matrix` must be either a kiva.agg.AffineMatrix instance, or</span>
<span class="sd">        a 3x3 numpy array.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">)</span> <span class="ow">and</span> <span class="n">matrix</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">matrix</span> <span class="o">=</span> <span class="n">AffineMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                                  <span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                                  <span class="n">matrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_text_matrix"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_text_matrix">[docs]</a>    <span class="k">def</span> <span class="nf">get_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_character_spacing"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_character_spacing">[docs]</a>    <span class="k">def</span> <span class="nf">set_character_spacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_character_spacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_character_spacing"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_character_spacing">[docs]</a>    <span class="k">def</span> <span class="nf">get_character_spacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_character_spacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.set_text_drawing_mode"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_text_drawing_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_text_drawing_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_text_drawing_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

                <span class="c1"># backward compatibility</span>
                <span class="c1"># Also, Enable calls get_full_text_extent exclusively; it expects the returned</span>
                <span class="c1"># arguments to be in a different order</span>
<div class="viewcode-block" id="GraphicsContextArray.get_full_text_extent"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_full_text_extent">[docs]</a>    <span class="k">def</span> <span class="nf">get_full_text_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">leading</span><span class="p">,</span> <span class="n">descent</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_text_extent</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">descent</span><span class="p">,</span> <span class="n">leading</span><span class="p">)</span></div>


<div class="viewcode-block" id="GraphicsContextArray.set_font"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_font">[docs]</a>    <span class="k">def</span> <span class="nf">set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="n">retval</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">AggFontType</span><span class="p">):</span>
            <span class="n">agg_font</span> <span class="o">=</span> <span class="n">font</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">fonttools</span><span class="o">.</span><span class="n">Font</span><span class="p">):</span>
            <span class="n">cur_font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_font</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">cur_font</span><span class="o">.</span><span class="n">is_loaded</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">face_name</span> <span class="o">==</span> <span class="n">cur_font</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">and</span> \
                <span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="n">cur_font</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">style</span> <span class="o">==</span> <span class="n">cur_font</span><span class="o">.</span><span class="n">style</span><span class="p">)</span> \
                <span class="ow">and</span> <span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">cur_font</span><span class="o">.</span><span class="n">encoding</span><span class="p">):</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">newfilename</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">findfont</span><span class="p">()</span>
                <span class="n">agg_font</span> <span class="o">=</span> <span class="n">AggFontType</span><span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">face_name</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">family</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">style</span><span class="p">,</span>
                                       <span class="n">font</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">agg_font</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">newfilename</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">agg_font</span> <span class="o">=</span> <span class="n">AggFontType</span><span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">face_name</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">family</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">style</span><span class="p">,</span> <span class="n">font</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">retval</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agg_font</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">retval</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unable to load font.&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unable to load font.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.set_font_size"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_font_size">[docs]</a>    <span class="k">def</span> <span class="nf">set_font_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_font_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Font not loaded/initialized.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_font"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_font">[docs]</a>    <span class="k">def</span> <span class="nf">get_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.save_state"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.save_state">[docs]</a>    <span class="k">def</span> <span class="nf">save_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_save_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.restore_state"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.restore_state">[docs]</a>    <span class="k">def</span> <span class="nf">restore_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_restore_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.translate_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.translate_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">translate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_translate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.rotate_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.rotate_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">rotate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_rotate_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.scale_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.scale_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">scale_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_scale_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.concat_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.concat_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">concat_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_concat_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_AffineMatrix</span><span class="p">(</span><span class="o">*</span><span class="n">m</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_concat_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.set_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.set_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">set_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_AffineMatrix</span><span class="p">(</span><span class="o">*</span><span class="n">m</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_set_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_ctm"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_ctm">[docs]</a>    <span class="k">def</span> <span class="nf">get_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_ctm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span></div>



<div class="viewcode-block" id="GraphicsContextArray.get_freetype_text_matrix"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_freetype_text_matrix">[docs]</a>    <span class="k">def</span> <span class="nf">get_freetype_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_freetype_text_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.flush"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.flush">[docs]</a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_flush</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.synchronize"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.synchronize">[docs]</a>    <span class="k">def</span> <span class="nf">synchronize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_synchronize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.begin_page"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.begin_page">[docs]</a>    <span class="k">def</span> <span class="nf">begin_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_begin_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.end_page"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.end_page">[docs]</a>    <span class="k">def</span> <span class="nf">end_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_end_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.begin_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.begin_path">[docs]</a>    <span class="k">def</span> <span class="nf">begin_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_begin_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.move_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.move_to">[docs]</a>    <span class="k">def</span> <span class="nf">move_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_move_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.line_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.line_to">[docs]</a>    <span class="k">def</span> <span class="nf">line_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_line_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.curve_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.curve_to">[docs]</a>    <span class="k">def</span> <span class="nf">curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.quad_curve_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.quad_curve_to">[docs]</a>    <span class="k">def</span> <span class="nf">quad_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_quad_curve_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.arc"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.arc">[docs]</a>    <span class="k">def</span> <span class="nf">arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.arc_to"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.arc_to">[docs]</a>    <span class="k">def</span> <span class="nf">arc_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_arc_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.close_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.close_path">[docs]</a>    <span class="k">def</span> <span class="nf">close_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_close_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.add_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.add_path">[docs]</a>    <span class="k">def</span> <span class="nf">add_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_add_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.lines"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.lines">[docs]</a>    <span class="k">def</span> <span class="nf">lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.line_set"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.line_set">[docs]</a>    <span class="k">def</span> <span class="nf">line_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_line_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.rect"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.rect">[docs]</a>    <span class="k">def</span> <span class="nf">rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.rects"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.rects">[docs]</a>    <span class="k">def</span> <span class="nf">rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray__get_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

<div class="viewcode-block" id="GraphicsContextArray.clip"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.clip">[docs]</a>    <span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.even_odd_clip"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.even_odd_clip">[docs]</a>    <span class="k">def</span> <span class="nf">even_odd_clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_even_odd_clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_num_clip_regions"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_num_clip_regions">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_clip_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_num_clip_regions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_clip_region"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_clip_region">[docs]</a>    <span class="k">def</span> <span class="nf">get_clip_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_get_clip_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.clip_to_rect"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.clip_to_rect">[docs]</a>    <span class="k">def</span> <span class="nf">clip_to_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_clip_to_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.clip_to_rects"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.clip_to_rects">[docs]</a>    <span class="k">def</span> <span class="nf">clip_to_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_clip_to_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.clear_clip_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.clear_clip_path">[docs]</a>    <span class="k">def</span> <span class="nf">clear_clip_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_clear_clip_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.clear"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.stroke_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.stroke_path">[docs]</a>    <span class="k">def</span> <span class="nf">stroke_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_stroke_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.fill_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.fill_path">[docs]</a>    <span class="k">def</span> <span class="nf">fill_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_fill_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.eof_fill_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.eof_fill_path">[docs]</a>    <span class="k">def</span> <span class="nf">eof_fill_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_eof_fill_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.draw_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.draw_path">[docs]</a>    <span class="k">def</span> <span class="nf">draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.draw_rect"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.draw_rect">[docs]</a>    <span class="k">def</span> <span class="nf">draw_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.draw_image"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.draw_image">[docs]</a>    <span class="k">def</span> <span class="nf">draw_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">rect</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_copy</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">):</span>
    <span class="c1"># The C++ implementation only handles other</span>
    <span class="c1"># GraphicsContexts, so create one.</span>
            <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">pix_format</span> <span class="o">=</span> <span class="s1">&#39;rgb24&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pix_format</span> <span class="o">=</span> <span class="s1">&#39;rgba32&#39;</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">GraphicsContextArray</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">pix_format</span><span class="o">=</span><span class="n">pix_format</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rect</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rect</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">img</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span><span class="n">img</span><span class="o">.</span><span class="n">height</span><span class="p">()),</span><span class="nb">float</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">img</span><span class="p">,</span><span class="n">rect</span><span class="p">,</span><span class="n">force_copy</span><span class="p">)</span></div>



<div class="viewcode-block" id="GraphicsContextArray.draw_marker_at_points"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.draw_marker_at_points">[docs]</a>    <span class="k">def</span> <span class="nf">draw_marker_at_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">kiva_marker_type</span><span class="p">):</span>
        <span class="n">marker</span> <span class="o">=</span> <span class="n">kiva_marker_to_agg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">kiva_marker_type</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">marker</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">success</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="n">kiva_marker_type</span> <span class="ow">in</span> <span class="p">(</span><span class="n">CIRCLE_MARKER</span><span class="p">,):</span>
    <span class="c1"># The kiva circle marker is rather jagged so lets</span>
    <span class="c1"># use our own</span>
            <span class="n">path_func</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">substitute_markers</span><span class="p">[</span><span class="n">kiva_marker_type</span><span class="p">]</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_empty_path</span><span class="p">()</span>
            <span class="n">path_func</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_path_at_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">pts</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">size</span><span class="p">),</span><span class="n">marker</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_marker_at_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span>
                            <span class="nb">int</span><span class="p">(</span><span class="n">size</span><span class="p">),</span> <span class="n">marker</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">success</span></div>



<div class="viewcode-block" id="GraphicsContextArray.draw_path_at_points"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.draw_path_at_points">[docs]</a>    <span class="k">def</span> <span class="nf">draw_path_at_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_draw_path_at_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.convert_pixel_format"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.convert_pixel_format">[docs]</a>    <span class="k">def</span> <span class="nf">convert_pixel_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">pix_format</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Convert gc from one pixel format to another.</span>

<span class="sd">            !! This used to be done in C++ code, but difficult-to-find</span>
<span class="sd">            !! memory bugs pushed toward a simpler solution.</span>
<span class="sd">            !! HACK</span>
<span class="sd">            !! Now we just draw into a new gc and assume its underlying C++</span>
<span class="sd">            !! object. We must be careful not to add any attributes in the</span>
<span class="sd">            !! Python GraphicsContextArray constructor other than the bmp_array.</span>
<span class="sd">            !! if we do, we need to copy them here also.</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="c1"># make sure it uses sub-class if needed</span>
        <span class="n">new_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()),</span>
                                  <span class="n">pix_format</span><span class="o">=</span><span class="n">pix_format</span><span class="p">,</span>
                                  <span class="n">interpolation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_image_interpolation</span><span class="p">(),</span>
                                  <span class="n">bottom_up</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_up</span><span class="p">())</span>
        <span class="n">new_img</span><span class="o">.</span><span class="n">draw_image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">inplace</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    # swap internals with new_self -- it will dealloc our (now unused) C++</span>
<span class="sd">    # object and we&#39;ll acquire its new one.  We also get a ref to his bmp_array</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">old_this</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">this</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">new_img</span><span class="o">.</span><span class="n">this</span>
            <span class="n">new_img</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">old_this</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bmp_array</span> <span class="o">=</span> <span class="n">new_img</span><span class="o">.</span><span class="n">bmp_array</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">new_img</span></div>

<div class="viewcode-block" id="GraphicsContextArray.get_empty_path"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.get_empty_path">[docs]</a>    <span class="k">def</span> <span class="nf">get_empty_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompiledPath</span><span class="p">()</span></div>

<div class="viewcode-block" id="GraphicsContextArray.save"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pil_options</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Save the GraphicsContext to a file.  Output files are always</span>
<span class="sd">            saved in RGB or RGBA format; if this GC is not in one of</span>
<span class="sd">            these formats, it is automatically converted.</span>

<span class="sd">            If filename includes an extension, the image format is</span>
<span class="sd">            inferred from it.  file_format is only required if the</span>
<span class="sd">            format can&#39;t be inferred from the filename (e.g. if you</span>
<span class="sd">            wanted to save a PNG file as a .dat or .bin).</span>

<span class="sd">            filename may also be &quot;file-like&quot; object such as a</span>
<span class="sd">            StringIO, in which case a file_format must be supplied</span>

<span class="sd">            pil_options is a dict of format-specific options that</span>
<span class="sd">            are passed down to the PIL image file writer.  If a writer</span>
<span class="sd">            doesn&#39;t recognize an option, it is silently ignored.</span>

<span class="sd">            If the image has an alpha channel and the specified output</span>
<span class="sd">            file format does not support alpha, the image is saved in</span>
<span class="sd">            rgb24 format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>

        <span class="n">FmtsWithoutAlpha</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;bmp&#39;</span><span class="p">,</span> <span class="s1">&#39;eps&#39;</span><span class="p">,</span> <span class="s2">&quot;jpeg&quot;</span><span class="p">)</span>
        <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
        <span class="n">fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">()</span>

    <span class="c1"># determine the output pixel format and PIL format</span>
        <span class="k">if</span> <span class="n">fmt</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;32&quot;</span><span class="p">):</span>
            <span class="n">pilformat</span> <span class="o">=</span> <span class="s2">&quot;RGBA&quot;</span>
            <span class="n">pixelformat</span> <span class="o">=</span> <span class="s2">&quot;rgba32&quot;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">filename</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">FmtsWithoutAlpha</span><span class="p">)</span> <span class="ow">or</span> \
               <span class="p">(</span><span class="n">file_format</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">file_format</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">FmtsWithoutAlpha</span><span class="p">):</span>
                <span class="n">pilformat</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
                <span class="n">pixelformat</span> <span class="o">=</span> <span class="s2">&quot;rgb24&quot;</span>
        <span class="k">elif</span> <span class="n">fmt</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;24&quot;</span><span class="p">):</span>
            <span class="n">pilformat</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
            <span class="n">pixelformat</span> <span class="o">=</span> <span class="s2">&quot;rgb24&quot;</span>

    <span class="c1"># perform a conversion if necessary</span>
        <span class="k">if</span> <span class="n">fmt</span> <span class="o">!=</span> <span class="n">pixelformat</span><span class="p">:</span>
            <span class="n">newimg</span> <span class="o">=</span> <span class="n">GraphicsContextArray</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>
            <span class="n">newimg</span><span class="o">.</span><span class="n">draw_image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">newimg</span><span class="o">.</span><span class="n">convert_pixel_format</span><span class="p">(</span><span class="n">pixelformat</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">bmp</span> <span class="o">=</span> <span class="n">newimg</span><span class="o">.</span><span class="n">bmp_array</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bmp_array</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">bmp</span><span class="p">,</span> <span class="n">pilformat</span><span class="p">)</span>
        <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">pil_options</span><span class="p">)</span></div>


    <span class="c1">#----------------------------------------------------------------</span>
    <span class="c1"># context manager interface</span>
    <span class="c1">#----------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_state</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">restore_state</span><span class="p">()</span>



<div class="viewcode-block" id="GraphicsContextArray.linear_gradient"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.linear_gradient">[docs]</a>    <span class="k">def</span> <span class="nf">linear_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_linear_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="GraphicsContextArray.radial_gradient"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.GraphicsContextArray.radial_gradient">[docs]</a>    <span class="k">def</span> <span class="nf">radial_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_radial_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></div></div>
<span class="n">GraphicsContextArray_swigregister</span> <span class="o">=</span> <span class="n">_agg</span><span class="o">.</span><span class="n">GraphicsContextArray_swigregister</span>
<span class="n">GraphicsContextArray_swigregister</span><span class="p">(</span><span class="n">GraphicsContextArray</span><span class="p">)</span>



<span class="n">pil_format_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">pil_format_map</span><span class="p">[</span><span class="s2">&quot;RGB&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;rgb24&quot;</span>
<span class="n">pil_format_map</span><span class="p">[</span><span class="s2">&quot;RGBA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;rgba32&quot;</span>

<span class="n">pil_depth_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">pil_depth_map</span><span class="p">[</span><span class="s2">&quot;RGB&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">pil_depth_map</span><span class="p">[</span><span class="s2">&quot;RGBA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>

<div class="viewcode-block" id="Image"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.Image">[docs]</a><span class="k">class</span> <span class="nc">Image</span><span class="p">(</span><span class="n">GraphicsContextArray</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Image is a GraphicsContextArray sub-class created from an image file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">bottom_up</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Create an Image object (GraphicsContextArray) from a file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file</span>
<span class="sd">            can be either a file name or an open file object</span>
<span class="sd">        interpolation</span>
<span class="sd">            specifies the type of filter used when putting the image into</span>
<span class="sd">            another GraphicsContextArray</span>
<span class="sd">        &quot;&quot;&quot;</span>
<span class="c1"># read the file using PIL</span>
        <span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span> <span class="k">as</span> <span class="n">PilImage</span>

        <span class="n">pil_img</span> <span class="o">=</span> <span class="n">PilImage</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="c1"># Convert image to a numpy array</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pil_img</span><span class="o">.</span><span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span><span class="s2">&quot;RGBA&quot;</span><span class="p">]</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">cvar</span><span class="o">.</span><span class="n">ALWAYS_32BIT_WORKAROUND_FLAG</span> <span class="ow">and</span> <span class="n">pil_img</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;RGBA&quot;</span><span class="p">)):</span>
            <span class="n">pil_img</span> <span class="o">=</span> <span class="n">pil_img</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>

        <span class="n">depth</span> <span class="o">=</span> <span class="n">pil_depth_map</span><span class="p">[</span><span class="n">pil_img</span><span class="o">.</span><span class="n">mode</span><span class="p">]</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="n">pil_format_map</span><span class="p">[</span><span class="n">pil_img</span><span class="o">.</span><span class="n">mode</span><span class="p">]</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">asarray</span><span class="p">(</span><span class="n">pil_img</span><span class="p">)</span>

        <span class="n">GraphicsContextArray</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">pix_format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
                                      <span class="n">interpolation</span><span class="o">=</span><span class="n">interpolation</span><span class="p">,</span>
                                      <span class="n">bottom_up</span> <span class="o">=</span> <span class="n">bottom_up</span><span class="p">)</span>

<div class="viewcode-block" id="Image.convert_pixel_format"><a class="viewcode-back" href="../../../api/kiva.agg.agg.html#enable.savage.svg.backends.kiva.renderer.Image.convert_pixel_format">[docs]</a>    <span class="k">def</span> <span class="nf">convert_pixel_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">pix_format</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="s2">&quot;Convert gc from one pixel format to another.&quot;</span>
<span class="c1"># We override the one in the base GraphicsContextArray because that</span>
<span class="c1"># one calls our __init__, which is not really the behavior we want.</span>
<span class="c1">#</span>
<span class="c1"># This problem can be avoided altogether down the road when the</span>
<span class="c1"># Image subclass is turned into a factory function.</span>
        <span class="n">new_img</span> <span class="o">=</span> <span class="n">GraphicsContextArray</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()),</span>
                                  <span class="n">pix_format</span><span class="o">=</span><span class="n">pix_format</span><span class="p">,</span>
                                  <span class="n">interpolation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_image_interpolation</span><span class="p">(),</span>
                                  <span class="n">bottom_up</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_up</span><span class="p">())</span>
        <span class="n">new_img</span><span class="o">.</span><span class="n">draw_image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">inplace</span><span class="p">:</span>
            <span class="n">old_this</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">this</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">new_img</span><span class="o">.</span><span class="n">this</span>
            <span class="n">new_img</span><span class="o">.</span><span class="n">this</span> <span class="o">=</span> <span class="n">old_this</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bmp_array</span> <span class="o">=</span> <span class="n">new_img</span><span class="o">.</span><span class="n">bmp_array</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">new_img</span></div></div>



<span class="c1"># This file is compatible with both classic and new-style classes.</span>


</pre></div>

          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/img/e-logo.png" alt="Logo">
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2005-2021, Enthought
      </li>
      <li>
      Last updated on Feb 23, 2021.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>